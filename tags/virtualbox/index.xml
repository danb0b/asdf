<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Virtualbox on Dan Aukes</title><link>https://www.danaukes.com/tags/virtualbox/</link><description>Recent content in Virtualbox on Dan Aukes</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Sun, 17 Sep 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://www.danaukes.com/tags/virtualbox/index.xml" rel="self" type="application/rss+xml"/><item><title>Installing ROS2 Humble on two Virtualbox VMs</title><link>https://www.danaukes.com/notebook/ros2/10-installing-ros2-on-a-vm/</link><pubDate>Sun, 17 Sep 2023 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/ros2/10-installing-ros2-on-a-vm/</guid><description>&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>How do you get a ROS2 system up and running on a virtual machine, and participating on your local network as if it were a real pc? This tutorial helps you set up two virtual machine clones that can talk to each other without any special hardware other than your own pc, but look to any other device on the ROS network as if they are two full-fledged computers&lt;/p></description></item><item><title>01-Installation Notes</title><link>https://www.danaukes.com/notebook/ubuntu-setup/01.0-install/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/ubuntu-setup/01.0-install/</guid><description>&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>These notes are from memory, so they may be out of order.&lt;/p></description></item><item><title>Virtualbox Setup (optional)</title><link>https://www.danaukes.com/notebook/deprecated/ros/01-virtualbox-setup/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/deprecated/ros/01-virtualbox-setup/</guid><description>&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>This section discusses how to prepare a virtual machine for installing ROS. Because many students don&amp;rsquo;t have a spare computer they can load Ubuntu on, a virtual machine often makes sense. The most recent versions of virtualbox are quite adept and providing full support to usb devices piped in through a windows host, making this a nice, general solution for developing ROS environments.&lt;/p></description></item><item><title>Demonstrating Unicast in ROS2 on virtual machines over a local network using CycloneDDS</title><link>https://www.danaukes.com/notebook/ros2/20-configuring-unicast-dds-with-cyclone/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/ros2/20-configuring-unicast-dds-with-cyclone/</guid><description>&lt;p>Switching from ROS2&amp;rsquo;s multicast default to unicast can be a bit tricky, especially if you&amp;rsquo;re testing. I came up with a way to get it working between to virtualbox virtual machine clones and wanted to share my strategy.&lt;/p></description></item><item><title>Virtualbox</title><link>https://www.danaukes.com/notebook/virtualbox/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/virtualbox/</guid><description/></item><item><title>Controlling Virtualbox from the Terminal</title><link>https://www.danaukes.com/notebook/virtualbox/vbox_terminal/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/virtualbox/vbox_terminal/</guid><description>&lt;p>Starting/stopping/pausing a VM&lt;/p>
&lt;p>Now the fun begins. First, you must know the name of the VM you want to run. To find a list of the VMs, issue the command&lt;/p></description></item><item><title>Windows VirtualBox Install Process</title><link>https://www.danaukes.com/notebook/windows-vb-install/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/windows-vb-install/</guid><description>&lt;ol>
&lt;li>Install&lt;/li>
&lt;li>Update&lt;/li>
&lt;li>Remove Unused Programs&lt;/li>
&lt;li>Turn off hibernation&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>powercfg.exe -h off
&lt;/code>&lt;/pre>&lt;ol>
&lt;li>
&lt;p>Turn off page file&lt;/p></description></item><item><title>Demonstrating Unicast in ROS2 with CycloneDDS</title><link>https://www.danaukes.com/work-blog/2023-09-17/</link><pubDate>Sun, 17 Sep 2023 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/work-blog/2023-09-17/</guid><description>&lt;p>This has been converted to a tutorial and moved &lt;a href="https://www.danaukes.com/notebook/ros2/configuring-unicast-dds-with-cyclone/">here&lt;/a>&lt;/p></description></item><item><title>Home Assistant Setup</title><link>https://www.danaukes.com/notebook/iot/home-assistant-setup/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/iot/home-assistant-setup/</guid><description>&lt;h2 id="install-virtualbox">Install Virtualbox&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo apt install -y virtualbox virtualbox-ext-pack
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo usermod -a -G vboxusers &lt;span style="color:#111">$USER&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="download-home-assistant">Download Home Assistant&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">cd&lt;/span> Downloads
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>wget https://github.com/home-assistant/operating-
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>system/releases/download/8.5/haos_ova-8.5.vdi.zip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>unzip haos_ova-8.5.vdi.zip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="create-virtual-machine">Create Virtual Machine&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>mkdir &lt;span style="color:#d88200">&amp;#34;/home/danaukes/VirtualBox VMs&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mkdir &lt;span style="color:#d88200">&amp;#34;/home/danaukes/VirtualBox VMs/home-assistant&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mv /home/danaukes/Downloads/haos_ova-8.5.vdi &lt;span style="color:#d88200">&amp;#34;/home/danaukes/VirtualBox VMs/home-assistant/&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vboxmanage createvm --name home-assistant --basefolder &lt;span style="color:#d88200">&amp;#34;/home/danaukes/VirtualBox VMs/&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vboxmanage registervm &lt;span style="color:#d88200">&amp;#39;/home/danaukes/VirtualBox VMs/home-assistant/home-assistant.vbox&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vboxmanage modifyvm home-assistant --memory &lt;span style="color:#ae81ff">2000&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vboxmanage modifyvm home-assistant --firmware efi&lt;span style="color:#d88200">`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vboxmanage modifyvm home-assistant --ostype Ubuntu_64
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vboxmanage modifyvm home-assistant --nic1 bridged
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vboxmanage modifyvm home-assistant --bridgeadapter1 eno1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vboxmanage storagectl home-assistant --name &lt;span style="color:#d88200">&amp;#34;SATA&amp;#34;&lt;/span> --add sata --controller IntelAhci 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>VBoxManage storageattach home-assistant --storagectl &lt;span style="color:#d88200">&amp;#34;SATA&amp;#34;&lt;/span> --port &lt;span style="color:#ae81ff">0&lt;/span> --device &lt;span style="color:#ae81ff">0&lt;/span> --nonrotational on --discard on --type hdd --medium haos_ova-8.5.vdi
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vboxmanage startvm home-assistant --type headless
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="set-up-service">Set up service&lt;/h2>
&lt;h2 id="connect">Connect&lt;/h2>
&lt;ol>
&lt;li>find the ip address of the new VM&lt;/li>
&lt;li>over a vpn, set up tunneling&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ssh -L 8123:192.168.202:8123 -C -N controller
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="configure">Configure&lt;/h2>
&lt;ol>
&lt;li>create account
&lt;ol>
&lt;li>set name&lt;/li>
&lt;li>set map&lt;/li>
&lt;li>set currency to &amp;ldquo;USD&amp;rdquo;&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h2 id="enable-advanced-mode">enable advanced mode&lt;/h2>
&lt;ol>
&lt;li>go to profile&lt;/li>
&lt;li>select advanced mode&lt;/li>
&lt;/ol>
&lt;h2 id="add-integrations">Add integrations&lt;/h2>
&lt;h3 id="tasmota">tasmota&lt;/h3>
&lt;h3 id="mqtt">mqtt&lt;/h3>
&lt;p>server info:&lt;/p></description></item><item><title>Installing Windows 11 on Virtualbox</title><link>https://www.danaukes.com/notebook/virtualbox/windows-11/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/virtualbox/windows-11/</guid><description>&lt;p>Settings that worked for me&lt;/p>
&lt;p>Skip unattended installation
200gb vhd (flexible size)
8192 Mb Ram
TPM: None
EFI On
Enable Secureboot: No&lt;/p></description></item><item><title>Intricacies of working with two virtual machine clones</title><link>https://www.danaukes.com/notebook/virtualbox/two-clones/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/virtualbox/two-clones/</guid><description>&lt;p>Even if you have two vm clones with different mac addresses, you need to tell ubuntu how exactly the machine identifies itself on the network for the two clones to get separate ip addresses. This is explained &lt;a href="https://superuser.com/questions/655670/two-virtualbox-vms-running-in-parallel-assigned-same-ip">here&lt;/a>, but the easiest way to ensure it is to add &lt;code>dhcp-identifier: mac&lt;/code> in your netplan config, as in:&lt;/p></description></item><item><title>Modify VM Machine Information</title><link>https://www.danaukes.com/notebook/virtualbox/modify-vm-parameters/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/virtualbox/modify-vm-parameters/</guid><description>&lt;p>Sometimes its useful to declare your computer type in virtualbox as something other than a virtual machine.&lt;/p></description></item><item><title>Reset iptables</title><link>https://www.danaukes.com/notebook/reset-ip-tables/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/reset-ip-tables/</guid><description>&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="https://kerneltalks.com/virtualization/how-to-reset-iptables-to-default-settings/">https://kerneltalks.com/virtualization/how-to-reset-iptables-to-default-settings/&lt;/a>&lt;/p></description></item><item><title>Running Ros2 on an ESP32</title><link>https://www.danaukes.com/notebook/ros2-and-esp32/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/ros2-and-esp32/</guid><description>&lt;h2 id="virtualbox-guest-master-setup">Virtualbox guest master setup&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>create a virtual machine&lt;/p>
&lt;ol>
&lt;li>Networking: Select bridged networking&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>install ubuntu 22.04 server edition&lt;/p></description></item><item><title>Shrinking Virtualbox Hard Drives</title><link>https://www.danaukes.com/notebook/virtualbox/virtualbox-shrink/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/virtualbox/virtualbox-shrink/</guid><description>&lt;p>Derived from these instructions on &lt;a href="https://www.howtogeek.com/312883/how-to-shrink-a-virtualbox-virtual-machine-and-free-up-disk-space/">HowToGeek&lt;/a>&lt;/p>
&lt;p>In this tutorial we assume a linux host and a windows guest&lt;/p></description></item><item><title>Start Virtualbox as a Service in Linux</title><link>https://www.danaukes.com/notebook/deprecated/virtualbox-linux-service/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/deprecated/virtualbox-linux-service/</guid><description>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo apt reinstall virtualbox-dkms virtualbox-ext-pack virtualbox-qt virtualbox
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo nano /etc/default/virtualbox 
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>VBOXAUTOSTART_DB=/etc/vbox
VBOXAUTOSTART_CONFIG=/etc/vbox/autostartvm.cfg
&lt;/code>&lt;/pre>&lt;p>or&lt;/p></description></item><item><title>Start VirtualBox VM as a Service</title><link>https://www.danaukes.com/notebook/virtualbox/virtualbox-service/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/virtualbox/virtualbox-service/</guid><description>&lt;h2 id="steps">Steps&lt;/h2>
&lt;h3 id="ensure-you-are-a-member-of-vboxusers-group">Ensure you are a member of vboxusers group&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo usermod -a -G vboxusers &lt;span style="color:#111">$USER&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="create-a-script">Create a script&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>cat &lt;span style="color:#d88200">&amp;lt;&amp;lt;EOT &amp;gt; vbox_vm_start@.service
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">[Unit]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">Description=VirtualBox VM %I
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">After=network.target vboxdrv.service
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">Before=runlevel2.target shutdown.target
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">[Service]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">User=&amp;lt;put_your_username_here&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">Group=vboxusers
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">Type=forking
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">Restart=no
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">TimeoutSec=5min
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">IgnoreSIGPIPE=no
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">KillMode=process
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">GuessMainPID=no
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">RemainAfterExit=yes
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">ExecStartPre=/bin/sleep 30
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">ExecStart=/usr/bin/VBoxManage startvm %i --type headless
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">ExecStop=/usr/bin/VBoxManage controlvm %i acpipowerbutton
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">[Install]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">WantedBy=multi-user.target
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200">EOT&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sed -i &lt;span style="color:#d88200">&amp;#34;s/&amp;lt;put_your_username_here&amp;gt;/&lt;/span>&lt;span style="color:#111">$USER&lt;/span>&lt;span style="color:#d88200">/&amp;#34;&lt;/span> vbox_vm_start@.service
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo cp vbox_vm_start@.service /etc/systemd/system/vbox_vm_start@.service
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rm vbox_vm_start@.service
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl daemon-reload
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="get-vm-name">Get vm name&lt;/h3>
&lt;p>make sure your virtual machine doesn&amp;rsquo;t have a space in it.&lt;/p></description></item></channel></rss>