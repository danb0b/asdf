<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Security on Dan Aukes</title><link>https://www.danaukes.com/tags/security/</link><description>Recent content in Security on Dan Aukes</description><generator>Hugo</generator><language>en-us</language><atom:link href="https://www.danaukes.com/tags/security/index.xml" rel="self" type="application/rss+xml"/><item><title>Disabling Password-based SSH</title><link>https://www.danaukes.com/notebook/ssh/disable-password-ssh/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/ssh/disable-password-ssh/</guid><description>Settings for hardening ssh on Ubuntu</description></item><item><title>Remote Unlock your LUKS-encrypted Hard Drive</title><link>https://www.danaukes.com/notebook/ssh/remote-hd-unlock/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/ssh/remote-hd-unlock/</guid><description>&lt;p>Updated for Ubuntu 22.04&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Install Software&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo apt update
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt -y upgrade
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt install -y busybox dropbear*
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Create and add key&lt;/p></description></item><item><title>Installing Algo VPN</title><link>https://www.danaukes.com/notebook/deprecated/algo-vpn/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/deprecated/algo-vpn/</guid><description>&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>It is sometimes necessary to create a virtual network to enable computers across a large distance to communicate as if on the same network. This section deals with how to install such a service on a virtual machine.&lt;/p></description></item><item><title>Logging in Ubuntu</title><link>https://www.danaukes.com/notebook/logging-in-ubuntu/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/logging-in-ubuntu/</guid><description>A place to hold information about setting up, viewing, and controlling logging.</description></item><item><title>Reverse SSH Tunnel</title><link>https://www.danaukes.com/notebook/ssh/reverse-ssh/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/ssh/reverse-ssh/</guid><description>Auto-reconnecting reverse tunnel quickstart</description></item><item><title>10-Set Up Groups</title><link>https://www.danaukes.com/notebook/ubuntu-setup/10-groups/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/ubuntu-setup/10-groups/</guid><description>&lt;ol>
&lt;li>add yourself to device groups for access to some USB devices in python&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo usermod -a -G &amp;lt;group1&amp;gt;,&amp;lt;group2&amp;gt;,... &lt;span style="color:#111">$USER&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Example:&lt;/p></description></item><item><title>Enable UFW</title><link>https://www.danaukes.com/notebook/ubuntu-setup/19-turn-on-firewall/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/ubuntu-setup/19-turn-on-firewall/</guid><description>&lt;p>To turn on UFW,&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo ufw allow &lt;span style="color:#ae81ff">22&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo ufw &lt;span style="color:#111">enable&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo ufw status
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl &lt;span style="color:#111">enable&lt;/span> ufw
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl start ufw
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="specific-services">Specific Services&lt;/h2>
&lt;h3 id="ssh">SSH&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo ufw allow &lt;span style="color:#ae81ff">22&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="samba">Samba&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo ufw allow Samba
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="syncthing">syncthing&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo ufw allow syncthing
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo ufw allow syncthing-gui
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="dnsmasq-and-dhclient">dnsmasq and dhclient&lt;/h3>
&lt;p>for enabling wifi bridging in ubuntu&lt;/p></description></item><item><title>Install and configure fail2ban</title><link>https://www.danaukes.com/notebook/ubuntu-setup/20-install-fail2ban/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/ubuntu-setup/20-install-fail2ban/</guid><description>&lt;p>Derived from &lt;a href="https://blog.swmansion.com/limiting-failed-ssh-login-attempts-with-fail2ban-7da15a2313b">here&lt;/a>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo apt install -y fail2ban
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl &lt;span style="color:#111">enable&lt;/span> fail2ban
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl start fail2ban 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl status fail2ban 
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>config fail2ban for ufw&lt;/p></description></item><item><title>99-Locking Down Ubuntu</title><link>https://www.danaukes.com/notebook/ubuntu-setup/99-lock-down-ubuntu/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/ubuntu-setup/99-lock-down-ubuntu/</guid><description>&lt;ol>
&lt;li>Set bios admin password&lt;/li>
&lt;li>check sudoers group, make other users non-admin&lt;/li>
&lt;li>delete unused / unnecessary accounts&lt;/li>
&lt;li>reset root password&lt;/li>
&lt;li>lock all ssh keys with passphrase&lt;/li>
&lt;li>ensure .ssh, keys folders have the right permissions&lt;/li>
&lt;li>remove plaintext passwords from all .config files&lt;/li>
&lt;li>make sure cloud connections require password to start and do not start automatically&lt;/li>
&lt;li>encrypt all important configurations (eg rclone, syncthing, etc)&lt;/li>
&lt;li>remove credential files from all samba configs&lt;/li>
&lt;li>make normal user accts for any guests&lt;/li>
&lt;li>disable remembering passwords in
&lt;ul>
&lt;li>firefox&lt;/li>
&lt;li>thunderbird&lt;/li>
&lt;li>other email programs&lt;/li>
&lt;li>other browsers&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Lock down SSH
&lt;ol>
&lt;li>See &lt;a href="https://www.danaukes.com/notebook/ssh/disable-password-ssh/">how to disable passwords over ssh&lt;/a>&lt;/li>
&lt;li>enable &lt;a href="https://www.danaukes.com/notebook/ssh/remote-hd-unlock.md">LUKS remote decrypt&lt;/a>&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>install tor?&lt;/li>
&lt;li>add bitwarden or other 2FA app&lt;/li>
&lt;li>update frequently&lt;/li>
&lt;li>encrypt hard drive&lt;/li>
&lt;li>set up logging&lt;/li>
&lt;li>set / update vnc passwords&lt;/li>
&lt;li>check out AppArmor&lt;/li>
&lt;li>enable global privacy control: &lt;a href="https://blog.mozilla.org/netpolicy/2021/10/28/implementing-global-privacy-control/">https://blog.mozilla.org/netpolicy/2021/10/28/implementing-global-privacy-control/&lt;/a>&lt;/li>
&lt;/ol></description></item><item><title>Installing GrapheneOS on a Pixel 4a</title><link>https://www.danaukes.com/notebook/graphene/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/graphene/</guid><description>&lt;p>Instructions derived from &lt;a href="https://grapheneos.org/install/cli">https://grapheneos.org/install/cli&lt;/a>&lt;/p>
&lt;h2 id="download-developer-tools">Download Developer Tools&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo apt install android-sdk-platform-tools-common
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt install signify-openbsd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">echo&lt;/span> &lt;span style="color:#d88200">&amp;#34;alias signify=signify-openbsd&amp;#34;&lt;/span> &amp;gt;&amp;gt; ~/.bashrc
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt remove adb 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mkdir ~/adb
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">cd&lt;/span> ~/adb
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt install libarchive-tools
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -O https://dl.google.com/android/repository/platform-tools_r33.0.3-linux.zip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">echo&lt;/span> &lt;span style="color:#d88200">&amp;#39;ab885c20f1a9cb528eb145b9208f53540efa3d26258ac3ce4363570a0846f8f7 platform-tools_r33.0.3-linux.zip&amp;#39;&lt;/span> &lt;span style="color:#111">|&lt;/span> sha256sum -c
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>bsdtar xvf platform-tools_r33.0.3-linux.zip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">echo&lt;/span> &lt;span style="color:#d88200">&amp;#34;export PATH=\$PATH:/home/danaukes/adb/platform-tools&amp;#34;&lt;/span> &amp;gt;&amp;gt; ~/.bashrc
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>which fastboot
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>fastboot --version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="download-graphene">Download graphene&lt;/h2>
&lt;p>go to &lt;a href="https://grapheneos.org/releases#bramble-stable">https://grapheneos.org/releases#bramble-stable&lt;/a>&lt;/p></description></item><item><title>Unlock a LUKS partition from a file</title><link>https://www.danaukes.com/notebook/ssh/unlock-luks-partition-from-file/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.danaukes.com/notebook/ssh/unlock-luks-partition-from-file/</guid><description>&lt;p>Why would you want to do this? Sometimes, after encrypting a hard drive, you need it to auto-start. Following these instructions, you can enable a computer with an encrypted disk to start up, de-encrypt itself, and boot.&lt;/p></description></item></channel></rss>